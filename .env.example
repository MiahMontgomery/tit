# Example environment variables for Titan/PersonAI

## Core application settings
# Database connection string used by Drizzle/PostgreSQL.  In production this
# should point at your managed Postgres instance.  For local development you
# can use a connection string like `postgres://user:password@localhost:5432/titan`.
DATABASE_URL=

# The Node.js environment.  Use `production` when deployed to Render/Fly/etc.
NODE_ENV=development

# Port for the Express server to listen on.  Render will override this.
PORT=3000

# URL of the deployed front‑end (e.g. your Vercel domain) for CORS when
# NODE_ENV is production.  Not required in development.
FRONTEND_URL=https://your-frontend-domain.vercel.app

## Postgres pool settings (optional – only used when DATABASE_URL is unset)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=titan
DB_USER=postgres
DB_PASSWORD=postgres

## Large language model provider (OpenRouter)
# OpenRouter API key.  Required for all LLM calls.
OPENROUTER_API_KEY=
# Base URL for OpenRouter.  You can point this to another provider if using
# your own key or self-hosted router.
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

## ElevenLabs speech synthesis
# API key for ElevenLabs to generate persona voices.
ELEVENLABS_API_KEY=
# Optional voice ID for Jason persona.  Defaults to `jason` when unset.
JASON_VOICE_ID=jason

## File storage settings
# Where to store generated proofs (screenshots/audio) when running locally.
FILE_STORAGE_DIR=./storage
# Root directory for storing evidence and logs.  In production this is
# overridden by object storage configuration.
FILE_STORAGE_ROOT=./storage

## Proof URL signing
# Secret used to sign and verify proof URLs.
PROOF_URL_SECRET=

## JSON Web Token (JWT) authentication settings
# Secret used to sign JWTs if auth is enabled.
JWT_SECRET=
# Expiration for generated JWTs (e.g. `24h` or `7d`).
JWT_EXPIRES_IN=24h

## PersonAI runner configuration
# Maximum number of personas that can be active (running jobs) at one time.
ACTIVE_PERSONAS=8
# Directory for Playwright user profiles.  Each persona will have its own
# subdirectory here.
PLAYWRIGHT_ROOT=/var/titan/personas
# Directory where Titan stores data, including evidence and voice caches.
TITAN_DATA_ROOT=/var/titan/data
# Comma‑separated list of hosts that Playwright is allowed to navigate to.
ALLOWED_HOSTS=linkedin.com,upwork.com,fiverr.com
# Bearer token required to access `/status`, `/metrics` and other protected
# monitoring endpoints.  Set this to a long random string.
STATUS_TOKEN=

## Evidence & avatar storage (S3‑compatible object storage)
# URL of your S3/Backblaze/Wasabi bucket used to store evidence files and
# persona avatars.  Example: `https://s3.us-east-1.amazonaws.com/titan-evidence`.
EVIDENCE_BUCKET_URL=
# Access key for the bucket.
EVIDENCE_BUCKET_KEY=
# Secret key for the bucket.
EVIDENCE_BUCKET_SECRET=

## Logging and redaction
# Logging level: one of `debug`, `info`, `warn`, `error`.
LOG_LEVEL=info
# Whether to automatically redact personally identifiable information from
# captured evidence before storage.
EVIDENCE_REDACT_PII=true

## Feature flags
# Enable or disable spicy/adult personas.  Set to `true` only after you
# implement compliance gates.
SPICY_PERSONAS_ENABLED=false
# Maximum number of concurrent jobs per queue worker.
QUEUE_CONCURRENCY=4


## Model Broker & alternative LLM providers
# Set the default LLM provider for the model broker.  Supported values are
# `openrouter` (default), `together`, or `groq`.  Titan will use this to
# determine which API to call when generating text.  See
# `server/services/modelBroker.ts` for implementation details.
MODEL_PROVIDER=openrouter

# Together AI
# API key for Together AI (https://together.ai).  Required when
# MODEL_PROVIDER=together.
TOGETHER_AI_API_KEY=
# Base URL for Together AI (optional).  Defaults to
# https://api.together.ai/v1 when unset.
TOGETHER_AI_BASE_URL=https://api.together.ai/v1

# Groq
# API key for Groq (https://groq.com).  Required when MODEL_PROVIDER=groq.
GROQ_API_KEY=
# Base URL for Groq (optional).  Defaults to
# https://api.groq.com/v1 when unset.
GROQ_BASE_URL=https://api.groq.com/v1
